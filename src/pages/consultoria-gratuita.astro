---
import Layout from '../layouts/Layout.astro';

interface HomeFAQs { 
  title: string;
  description: string;
}

const pageTitle = "Nexito Tech: Agenda tu llamada gratuita";
const pageDescription = "Agenda tu llamada gratuita y conoce las posibilidades que podemos ofrecerte.";
---

<Layout title={pageTitle} description={pageDescription}>
  <main class="max-w-6xl mx-auto px-4 py-8 min-h-screen">
    <div class="mb-8 text-center">
      <h1 class="text-3xl font-bold text-gray-900 mb-4">{pageTitle}</h1>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">{pageDescription}</p>
    </div>
    <div class="mt-8 grid md:grid-cols-3 gap-6">
      <div class="p-6 bg-white rounded-lg shadow-sm">
        <h3 class="font-semibold text-lg mb-2">âœ¨ Consulta Gratuita</h3>
        <p class="text-gray-600">30 minutos para explorar cÃ³mo podemos ayudarte con tus objetivos tecnolÃ³gicos.</p>
      </div>
      <div class="p-6 bg-white rounded-lg shadow-sm">
        <h3 class="font-semibold text-lg mb-2">ðŸ”’ Sin Compromiso</h3>
        <p class="text-gray-600">ConversaciÃ³n informal para entender tus necesidades y proponer soluciones.</p>
      </div>
      <div class="p-6 bg-white rounded-lg shadow-sm">
        <h3 class="font-semibold text-lg mb-2">ðŸ“… Flexibilidad</h3>
        <p class="text-gray-600">Elige el horario que mejor se adapte a tu agenda.</p>
      </div>
    </div>
    <div class="bg-white rounded-lg shadow-lg p-20">
      <div class="cal-wrapper relative min-h-[700px] w-full">
        <div id="my-cal-inline" style="width:100%;height:100%;"></div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .cal-wrapper {
    border-radius: 0.5rem;
    overflow: hidden;
  }
</style>

<script>
// @ts-nocheck
(function(C, A, L) { 
  let p = function(a, ar) { a.q.push(ar); }; 
  let d = C.document; 
  C.Cal = C.Cal || function() { 
    let cal = C.Cal; 
    let ar = arguments; 
    if (!cal.loaded) { 
      cal.ns = {}; 
      cal.q = cal.q || []; 
      d.head.appendChild(d.createElement("script")).src = A; 
      cal.loaded = true; 
    } 
    if (ar[0] === L) { 
      const api = function() { p(api, arguments); }; 
      const namespace = ar[1]; 
      api.q = api.q || []; 
      if(typeof namespace === "string") {
        cal.ns[namespace] = cal.ns[namespace] || api;
        p(cal.ns[namespace], ar);
        p(cal, ["initNamespace", namespace]);
      } else {
        p(cal, ar); 
      }
      return;
    } 
    p(cal, ar); 
  }; 
})(window, "https://app.cal.com/embed/embed.js", "init");

// InicializaciÃ³n
Cal("init", "30min", {
  origin: "https://cal.com"
});

Cal.ns["30min"]("inline", {
  elementOrSelector: "#my-cal-inline",
  config: {
    layout: "month_view",
    theme: "light",
    hideEventTypeDetails: false,
  },
  calLink: "nexito/30min"
});

Cal.ns["30min"]("ui", {
  theme: "light",
  cssVarsPerTheme: {
    light: {
      "cal-brand": "#1e6bcd",
      "cal-text": "#111827",
      "cal-bg": "#ffffff",
    }
  },
  styles: {
    branding: {
      brandColor: "#1e6bcd"
    }
  }
});

// Analytics integration
window.dataLayer = window.dataLayer || [];
window.addEventListener('message', function(e) {
  if (e.data && e.data.type && e.data.type.startsWith('cal:')) {
    window.dataLayer.push({
      'event': 'cal_com',
      'cal_event': e.data.type.replace('cal:', '')
    });
  }
});
</script>